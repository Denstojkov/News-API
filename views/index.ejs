<%- include("partials/header") %>

<div class="container-fluid">
    
       <%- include("partials/nav") %>   
            
            <div class="col-md-12 pt-3">
                <div class="row">
                    <div class="col-md-12" id="carousel">
                        <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
                      <div class="carousel-inner">
                        <div class="carousel-item active">
                          <img class="d-block w-100 h-400" src="https://images.unsplash.com/photo-1579546929662-711aa81148cf?ixlib=rb-1.2.1&w=1000&q=80" alt="First slide">
                        </div>
                        <div class="carousel-item">
                          <img class="d-block w-100" src="https://miro.medium.com/max/3002/1*dP81IJq-tGFxy1rIK3RYsg.png" alt="Second slide">
                        </div>
                        <div class="carousel-item">
                          <img class="d-block w-100" src="https://static.vecteezy.com/system/resources/previews/000/600/363/non_2x/vector-abstract-halftone-gradient-background-modern-look.jpg" alt="Third slide">
                        </div>
                      </div>
                      <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                      </a>
                      <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                      </a>
                    </div>
                    </div>
                </div>
                <div class="pt-3">
                    
                    <div class="col-md-12 ">
                        <% let current = 0 %>
						<% let count = 0 %>
						<% let currentCount = 0 %>
                        <% data.forEach(function(news){ %>
                          <%	if(current === 1){ %>
							<%let gridcount = Math.floor((12 - count)/2); %>
							<div class="col-sm-12 col-md-<%=gridcount%> px-0 py-0  mainGrid" style="background-image: url(<%=news.urlToImage%>);" onclick="location.href='/index/<%= news.title.replace(/'/g,"")%>';">
								<div class="darkFade p-0 m-0">
									<h2 class="apiHeader">
										<%= news.title.replace(/^(.{50}[^\s]*).*/, "$1") %>
									</h2>
									<hr class="px-2 mx-2">
									<p class="apiText mb-0">
										<%= news.description.replace(/^(.{180}[^\s]*).*/, "$1") %>
										
									</p>
								</div>
						</div>
					
				
						<% current = 2 %>
					<%	}else if(current == 0){ %>
						<% while(count == currentCount){ %>
						<% count = Math.floor( Math.random() * Math.floor(4)) +3 %>
				<%	} %>
						<div class="row">
							
						<div class="col-sm-12 col-md-<%=count%> px-0 py-0  mainGrid" style="background-image: url(<%=news.urlToImage%>);" onclick="location.href='/index/<%= news.title.replace(/'/g,"")%>';">
							<div class="darkFade p-0 m-0">
							<h2 class="apiHeader">
									<%= news.title.replace(/^(.{50}[^\s]*).*/, "$1") %>
								</h2>
							<hr class="px-2 mx-2">
								<p class="apiText mb-0">
									<%= news.description.replace(/^(.{180}[^\s]*).*/, "$1") %>
								</p></div>
							</div>
							
						<% currentCount = count %>
						<% current = 1 %>
					<%	}else if(current == 2){%>
								
									<div class="col-sm-12 col-md px-0 py-0  mainGrid" style="background-image: url(<%=news.urlToImage%>);"  onclick="location.href='/index/<%= news.title.replace(/'/g,"")%>';">
										<div class="darkFade p-0 m-0">
							<h2 class="apiHeader">
									<%= news.title.replace(/^(.{50}[^\s]*).*/, "$1") %>
								</h2>
										<hr class="px-2 mx-2">
								<p class="apiText mb-0">
									<%= news.description.replace(/^(.{180}[^\s]*).*/, "$1") %>
								</p>
							</div>
						</div>
						</div>
						<% current = 0 %>
						<%	} %>
                            <% }) %>
                        
                       
                    </div>
                  
                </div>
            </div>
        </div>
    </div>
</div>


<%- include("partials/footer") %>